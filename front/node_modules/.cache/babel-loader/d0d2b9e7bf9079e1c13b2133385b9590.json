{"ast":null,"code":"/**\r\n * DevExtreme (esm/exporter/pdf_creator.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { version } from \"../core/version\";\nimport { getWindow } from \"../core/utils/window\";\nvar window = getWindow();\nimport { imageCreator } from \"./image_creator\";\nimport { isFunction } from \"../core/utils/type\";\nimport { extend } from \"../core/utils/extend\";\nvar mainPageTemplate = \"%PDF-1.3\\r\\n2 0 obj\\r\\n<</ProcSet[/PDF/ImageB/ImageC/ImageI]/XObject<</I0 5 0 R>>>>\\r\\nendobj\\r\\n4 0 obj\\r\\n<</Type/Pages/Kids[1 0 R]/Count 1>>\\r\\nendobj\\r\\n7 0 obj\\r\\n<</OpenAction[1 0 R /FitH null]/Type/Catalog/Pages 4 0 R/PageLayout/OneColumn>>\\r\\nendobj\\r\\n1 0 obj\\r\\n<</Type/Page/Resources 2 0 R/MediaBox[0 0 _width_ _height_]/Contents 3 0 R/Parent 4 0 R>>\\r\\nendobj\\r\\n\";\nvar contentTemplate = \"3 0 obj\\r\\n<</Length 52>>stream\\r\\n0.20 w\\n0 G\\nq _width_ 0 0 _height_ 0.00 0.00 cm /I0 Do Q\\r\\nendstream\\r\\nendobj\\r\\n\";\nvar infoTemplate = \"6 0 obj\\r\\n<</CreationDate _date_/Producer(DevExtreme _version_)>>\\r\\nendobj\\r\\n\";\nvar imageStartTemplate = \"5 0 obj\\r\\n<</Type/XObject/Subtype/Image/Width _width_/Height _height_/ColorSpace/DeviceRGB/BitsPerComponent 8/Filter/DCTDecode/Length _length_>>stream\\r\\n\";\nvar imageEndTemplate = \"\\r\\nendstream\\r\\nendobj\\r\\n\";\nvar trailerTemplate = \"trailer\\r\\n<<\\r\\n/Size 8\\r\\n/Root 7 0 R\\r\\n/Info 6 0 R\\r\\n>>\\r\\nstartxref\\r\\n_length_\\r\\n%%EOF\";\nvar xrefTemplate = \"xref\\r\\n0 8\\r\\n0000000000 65535 f\\r\\n0000000241 00000 n\\r\\n0000000010 00000 n\\r\\n_main_ 00000 n\\r\\n0000000089 00000 n\\r\\n_image_ 00000 n\\r\\n_info_ 00000 n\\r\\n0000000143 00000 n\\r\\n\";\n\nvar pad = function pad(str, len) {\n  return str.length < len ? pad(\"0\" + str, len) : str;\n};\n\nvar composePdfString = function (imageString, options, curDate) {\n  var margin = 2 * (options.margin || 0);\n  var width = options.width + margin;\n  var height = options.height + margin;\n  var widthPt = (.75 * width).toFixed(2);\n  var heightPt = (.75 * height).toFixed(2);\n  var mainPage = mainPageTemplate.replace(\"_width_\", widthPt).replace(\"_height_\", heightPt);\n  var content = contentTemplate.replace(\"_width_\", widthPt).replace(\"_height_\", heightPt);\n  var info = infoTemplate.replace(\"_date_\", curDate).replace(\"_version_\", version);\n  var image = imageStartTemplate.replace(\"_width_\", width).replace(\"_height_\", height).replace(\"_length_\", imageString.length) + imageString + imageEndTemplate;\n  var xref = getXref(mainPage.length, content.length, info.length);\n  var mainContent = mainPage + content + info + image;\n  var trailer = trailerTemplate.replace(\"_length_\", mainContent.length);\n  return mainContent + xref + trailer;\n};\n\nfunction getXref(mainPageLength, contentLength, infoLength) {\n  return xrefTemplate.replace(\"_main_\", pad(mainPageLength + \"\", 10)).replace(\"_info_\", pad(mainPageLength + contentLength + \"\", 10)).replace(\"_image_\", pad(mainPageLength + contentLength + infoLength + \"\", 10));\n}\n\nvar getCurDate = function () {\n  return new Date();\n};\n\nvar getBlob = function (binaryData) {\n  var i = 0;\n  var dataArray = new Uint8Array(binaryData.length);\n\n  for (; i < binaryData.length; i++) {\n    dataArray[i] = binaryData.charCodeAt(i);\n  }\n\n  return new window.Blob([dataArray.buffer], {\n    type: \"application/pdf\"\n  });\n};\n\nvar getBase64 = function (binaryData) {\n  return window.btoa(binaryData);\n};\n\nexport function getData(data, options) {\n  return imageCreator.getImageData(data, extend({}, options, {\n    format: \"JPEG\"\n  })).then(imageString => {\n    var binaryData = composePdfString(imageString, options, getCurDate());\n    var pdfData = isFunction(window.Blob) ? getBlob(binaryData) : getBase64(binaryData);\n    return pdfData;\n  });\n}","map":{"version":3,"sources":["/home/narminali/Desktop/vabiss/narmin-oms-front/node_modules/devextreme/esm/exporter/pdf_creator.js"],"names":["version","getWindow","window","imageCreator","isFunction","extend","mainPageTemplate","contentTemplate","infoTemplate","imageStartTemplate","imageEndTemplate","trailerTemplate","xrefTemplate","pad","str","len","length","composePdfString","imageString","options","curDate","margin","width","height","widthPt","toFixed","heightPt","mainPage","replace","content","info","image","xref","getXref","mainContent","trailer","mainPageLength","contentLength","infoLength","getCurDate","Date","getBlob","binaryData","i","dataArray","Uint8Array","charCodeAt","Blob","buffer","type","getBase64","btoa","getData","data","getImageData","format","then","pdfData"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/exporter/pdf_creator.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    version\r\n} from \"../core/version\";\r\nimport {\r\n    getWindow\r\n} from \"../core/utils/window\";\r\nvar window = getWindow();\r\nimport {\r\n    imageCreator\r\n} from \"./image_creator\";\r\nimport {\r\n    isFunction\r\n} from \"../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nvar mainPageTemplate = \"%PDF-1.3\\r\\n2 0 obj\\r\\n<</ProcSet[/PDF/ImageB/ImageC/ImageI]/XObject<</I0 5 0 R>>>>\\r\\nendobj\\r\\n4 0 obj\\r\\n<</Type/Pages/Kids[1 0 R]/Count 1>>\\r\\nendobj\\r\\n7 0 obj\\r\\n<</OpenAction[1 0 R /FitH null]/Type/Catalog/Pages 4 0 R/PageLayout/OneColumn>>\\r\\nendobj\\r\\n1 0 obj\\r\\n<</Type/Page/Resources 2 0 R/MediaBox[0 0 _width_ _height_]/Contents 3 0 R/Parent 4 0 R>>\\r\\nendobj\\r\\n\";\r\nvar contentTemplate = \"3 0 obj\\r\\n<</Length 52>>stream\\r\\n0.20 w\\n0 G\\nq _width_ 0 0 _height_ 0.00 0.00 cm /I0 Do Q\\r\\nendstream\\r\\nendobj\\r\\n\";\r\nvar infoTemplate = \"6 0 obj\\r\\n<</CreationDate _date_/Producer(DevExtreme _version_)>>\\r\\nendobj\\r\\n\";\r\nvar imageStartTemplate = \"5 0 obj\\r\\n<</Type/XObject/Subtype/Image/Width _width_/Height _height_/ColorSpace/DeviceRGB/BitsPerComponent 8/Filter/DCTDecode/Length _length_>>stream\\r\\n\";\r\nvar imageEndTemplate = \"\\r\\nendstream\\r\\nendobj\\r\\n\";\r\nvar trailerTemplate = \"trailer\\r\\n<<\\r\\n/Size 8\\r\\n/Root 7 0 R\\r\\n/Info 6 0 R\\r\\n>>\\r\\nstartxref\\r\\n_length_\\r\\n%%EOF\";\r\nvar xrefTemplate = \"xref\\r\\n0 8\\r\\n0000000000 65535 f\\r\\n0000000241 00000 n\\r\\n0000000010 00000 n\\r\\n_main_ 00000 n\\r\\n0000000089 00000 n\\r\\n_image_ 00000 n\\r\\n_info_ 00000 n\\r\\n0000000143 00000 n\\r\\n\";\r\nvar pad = function pad(str, len) {\r\n    return str.length < len ? pad(\"0\" + str, len) : str\r\n};\r\nvar composePdfString = function(imageString, options, curDate) {\r\n    var margin = 2 * (options.margin || 0);\r\n    var width = options.width + margin;\r\n    var height = options.height + margin;\r\n    var widthPt = (.75 * width).toFixed(2);\r\n    var heightPt = (.75 * height).toFixed(2);\r\n    var mainPage = mainPageTemplate.replace(\"_width_\", widthPt).replace(\"_height_\", heightPt);\r\n    var content = contentTemplate.replace(\"_width_\", widthPt).replace(\"_height_\", heightPt);\r\n    var info = infoTemplate.replace(\"_date_\", curDate).replace(\"_version_\", version);\r\n    var image = imageStartTemplate.replace(\"_width_\", width).replace(\"_height_\", height).replace(\"_length_\", imageString.length) + imageString + imageEndTemplate;\r\n    var xref = getXref(mainPage.length, content.length, info.length);\r\n    var mainContent = mainPage + content + info + image;\r\n    var trailer = trailerTemplate.replace(\"_length_\", mainContent.length);\r\n    return mainContent + xref + trailer\r\n};\r\n\r\nfunction getXref(mainPageLength, contentLength, infoLength) {\r\n    return xrefTemplate.replace(\"_main_\", pad(mainPageLength + \"\", 10)).replace(\"_info_\", pad(mainPageLength + contentLength + \"\", 10)).replace(\"_image_\", pad(mainPageLength + contentLength + infoLength + \"\", 10))\r\n}\r\nvar getCurDate = function() {\r\n    return new Date\r\n};\r\nvar getBlob = function(binaryData) {\r\n    var i = 0;\r\n    var dataArray = new Uint8Array(binaryData.length);\r\n    for (; i < binaryData.length; i++) {\r\n        dataArray[i] = binaryData.charCodeAt(i)\r\n    }\r\n    return new window.Blob([dataArray.buffer], {\r\n        type: \"application/pdf\"\r\n    })\r\n};\r\nvar getBase64 = function(binaryData) {\r\n    return window.btoa(binaryData)\r\n};\r\nexport function getData(data, options) {\r\n    return imageCreator.getImageData(data, extend({}, options, {\r\n        format: \"JPEG\"\r\n    })).then(imageString => {\r\n        var binaryData = composePdfString(imageString, options, getCurDate());\r\n        var pdfData = isFunction(window.Blob) ? getBlob(binaryData) : getBase64(binaryData);\r\n        return pdfData\r\n    })\r\n}\r\n"]},"metadata":{},"sourceType":"module"}