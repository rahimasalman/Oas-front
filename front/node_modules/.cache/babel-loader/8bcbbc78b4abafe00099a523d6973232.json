{"ast":null,"code":"/**\r\n * DevExtreme (esm/data/utils.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { isFunction } from \"../core/utils/type\";\nimport domAdapter from \"../core/dom_adapter\";\nimport readyCallbacks from \"../core/utils/ready_callbacks\";\nimport { getWindow } from \"../core/utils/window\";\nimport { map } from \"../core/utils/iterator\";\nimport { Deferred } from \"../core/utils/deferred\";\nimport { equalByValue } from \"../core/utils/common\";\nvar ready = readyCallbacks.add;\nexport var XHR_ERROR_UNLOAD = \"DEVEXTREME_XHR_ERROR_UNLOAD\";\nexport var normalizeBinaryCriterion = function (crit) {\n  return [crit[0], crit.length < 3 ? \"=\" : String(crit[1]).toLowerCase(), crit.length < 2 ? true : crit[crit.length - 1]];\n};\nexport var normalizeSortingInfo = function (info) {\n  if (!Array.isArray(info)) {\n    info = [info];\n  }\n\n  return map(info, function (i) {\n    var result = {\n      selector: isFunction(i) || \"string\" === typeof i ? i : i.getter || i.field || i.selector,\n      desc: !!(i.desc || \"d\" === String(i.dir).charAt(0).toLowerCase())\n    };\n\n    if (i.compare) {\n      result.compare = i.compare;\n    }\n\n    return result;\n  });\n};\nexport var errorMessageFromXhr = function () {\n  var textStatusMessages = {\n    timeout: \"Network connection timeout\",\n    error: \"Unspecified network error\",\n    parsererror: \"Unexpected server response\"\n  };\n  var unloading;\n  ready(function () {\n    var window = getWindow();\n    domAdapter.listen(window, \"beforeunload\", function () {\n      unloading = true;\n    });\n  });\n  return function (xhr, textStatus) {\n    if (unloading) {\n      return XHR_ERROR_UNLOAD;\n    }\n\n    if (xhr.status < 400) {\n      return function (textStatus) {\n        var result = textStatusMessages[textStatus];\n\n        if (!result) {\n          return textStatus;\n        }\n\n        return result;\n      }(textStatus);\n    }\n\n    return xhr.statusText;\n  };\n}();\nexport var aggregators = {\n  count: {\n    seed: 0,\n    step: function (count) {\n      return 1 + count;\n    }\n  },\n  sum: {\n    seed: 0,\n    step: function (sum, item) {\n      return sum + item;\n    }\n  },\n  min: {\n    step: function (min, item) {\n      return item < min ? item : min;\n    }\n  },\n  max: {\n    step: function (max, item) {\n      return item > max ? item : max;\n    }\n  },\n  avg: {\n    seed: [0, 0],\n    step: function (pair, value) {\n      return [pair[0] + value, pair[1] + 1];\n    },\n    finalize: function (pair) {\n      return pair[1] ? pair[0] / pair[1] : NaN;\n    }\n  }\n};\nexport var processRequestResultLock = function () {\n  var lockCount = 0;\n  var lockDeferred;\n  return {\n    obtain: function () {\n      if (0 === lockCount) {\n        lockDeferred = new Deferred();\n      }\n\n      lockCount++;\n    },\n    release: function () {\n      lockCount--;\n\n      if (lockCount < 1) {\n        lockDeferred.resolve();\n      }\n    },\n    promise: function () {\n      var deferred = 0 === lockCount ? new Deferred().resolve() : lockDeferred;\n      return deferred.promise();\n    },\n    reset: function () {\n      lockCount = 0;\n\n      if (lockDeferred) {\n        lockDeferred.resolve();\n      }\n    }\n  };\n}();\nexport function isDisjunctiveOperator(condition) {\n  return /^(or|\\|\\||\\|)$/i.test(condition);\n}\nexport function isConjunctiveOperator(condition) {\n  return /^(and|&&|&)$/i.test(condition);\n}\nexport var keysEqual = function (keyExpr, key1, key2) {\n  if (Array.isArray(keyExpr)) {\n    var names = map(key1, function (v, k) {\n      return k;\n    });\n    var name;\n\n    for (var i = 0; i < names.length; i++) {\n      name = names[i];\n\n      if (!equalByValue(key1[name], key2[name], 0, false)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return equalByValue(key1, key2, 0, false);\n};\nvar BASE64_CHARS = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\nexport var base64_encode = function (input) {\n  if (!Array.isArray(input)) {\n    input = stringToByteArray(String(input));\n  }\n\n  var result = \"\";\n\n  function getBase64Char(index) {\n    return BASE64_CHARS.charAt(index);\n  }\n\n  for (var i = 0; i < input.length; i += 3) {\n    var octet1 = input[i];\n    var octet2 = input[i + 1];\n    var octet3 = input[i + 2];\n    result += map([octet1 >> 2, (3 & octet1) << 4 | octet2 >> 4, isNaN(octet2) ? 64 : (15 & octet2) << 2 | octet3 >> 6, isNaN(octet3) ? 64 : 63 & octet3], getBase64Char).join(\"\");\n  }\n\n  return result;\n};\n\nfunction stringToByteArray(str) {\n  var bytes = [];\n  var code;\n  var i;\n\n  for (i = 0; i < str.length; i++) {\n    code = str.charCodeAt(i);\n\n    if (code < 128) {\n      bytes.push(code);\n    } else if (code < 2048) {\n      bytes.push(192 + (code >> 6), 128 + (63 & code));\n    } else if (code < 65536) {\n      bytes.push(224 + (code >> 12), 128 + (code >> 6 & 63), 128 + (63 & code));\n    } else if (code < 2097152) {\n      bytes.push(240 + (code >> 18), 128 + (code >> 12 & 63), 128 + (code >> 6 & 63), 128 + (63 & code));\n    }\n  }\n\n  return bytes;\n}\n\nexport var isUnaryOperation = function (crit) {\n  return \"!\" === crit[0] && Array.isArray(crit[1]);\n};\n\nvar isGroupOperator = function (value) {\n  return \"and\" === value || \"or\" === value;\n};\n\nexport var isGroupCriterion = function (crit) {\n  var first = crit[0];\n  var second = crit[1];\n\n  if (Array.isArray(first)) {\n    return true;\n  }\n\n  if (isFunction(first)) {\n    if (Array.isArray(second) || isFunction(second) || isGroupOperator(second)) {\n      return true;\n    }\n  }\n\n  return false;\n};\nexport var trivialPromise = function () {\n  var d = new Deferred();\n  return d.resolve.apply(d, arguments).promise();\n};\nexport var rejectedPromise = function () {\n  var d = new Deferred();\n  return d.reject.apply(d, arguments).promise();\n};\n\nfunction throttle(func, timeout) {\n  var timeoutId;\n  var lastArgs;\n  return function () {\n    lastArgs = arguments;\n\n    if (!timeoutId) {\n      timeoutId = setTimeout(() => {\n        timeoutId = void 0;\n\n        if (lastArgs) {\n          func.call(this, lastArgs);\n        }\n      }, isFunction(timeout) ? timeout() : timeout);\n    }\n\n    return timeoutId;\n  };\n}\n\nexport function throttleChanges(func, timeout) {\n  var cache = [];\n  var throttled = throttle(function () {\n    func.call(this, cache);\n    cache = [];\n  }, timeout);\n  return function (changes) {\n    if (Array.isArray(changes)) {\n      cache.push(...changes);\n    }\n\n    return throttled.call(this, cache);\n  };\n}","map":{"version":3,"sources":["/home/narminali/Desktop/vabiss/narmin-oms-front/node_modules/devextreme/esm/data/utils.js"],"names":["isFunction","domAdapter","readyCallbacks","getWindow","map","Deferred","equalByValue","ready","add","XHR_ERROR_UNLOAD","normalizeBinaryCriterion","crit","length","String","toLowerCase","normalizeSortingInfo","info","Array","isArray","i","result","selector","getter","field","desc","dir","charAt","compare","errorMessageFromXhr","textStatusMessages","timeout","error","parsererror","unloading","window","listen","xhr","textStatus","status","statusText","aggregators","count","seed","step","sum","item","min","max","avg","pair","value","finalize","NaN","processRequestResultLock","lockCount","lockDeferred","obtain","release","resolve","promise","deferred","reset","isDisjunctiveOperator","condition","test","isConjunctiveOperator","keysEqual","keyExpr","key1","key2","names","v","k","name","BASE64_CHARS","base64_encode","input","stringToByteArray","getBase64Char","index","octet1","octet2","octet3","isNaN","join","str","bytes","code","charCodeAt","push","isUnaryOperation","isGroupOperator","isGroupCriterion","first","second","trivialPromise","d","apply","arguments","rejectedPromise","reject","throttle","func","timeoutId","lastArgs","setTimeout","call","throttleChanges","cache","throttled","changes"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/data/utils.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isFunction\r\n} from \"../core/utils/type\";\r\nimport domAdapter from \"../core/dom_adapter\";\r\nimport readyCallbacks from \"../core/utils/ready_callbacks\";\r\nimport {\r\n    getWindow\r\n} from \"../core/utils/window\";\r\nimport {\r\n    map\r\n} from \"../core/utils/iterator\";\r\nimport {\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nimport {\r\n    equalByValue\r\n} from \"../core/utils/common\";\r\nvar ready = readyCallbacks.add;\r\nexport var XHR_ERROR_UNLOAD = \"DEVEXTREME_XHR_ERROR_UNLOAD\";\r\nexport var normalizeBinaryCriterion = function(crit) {\r\n    return [crit[0], crit.length < 3 ? \"=\" : String(crit[1]).toLowerCase(), crit.length < 2 ? true : crit[crit.length - 1]]\r\n};\r\nexport var normalizeSortingInfo = function(info) {\r\n    if (!Array.isArray(info)) {\r\n        info = [info]\r\n    }\r\n    return map(info, (function(i) {\r\n        var result = {\r\n            selector: isFunction(i) || \"string\" === typeof i ? i : i.getter || i.field || i.selector,\r\n            desc: !!(i.desc || \"d\" === String(i.dir).charAt(0).toLowerCase())\r\n        };\r\n        if (i.compare) {\r\n            result.compare = i.compare\r\n        }\r\n        return result\r\n    }))\r\n};\r\nexport var errorMessageFromXhr = function() {\r\n    var textStatusMessages = {\r\n        timeout: \"Network connection timeout\",\r\n        error: \"Unspecified network error\",\r\n        parsererror: \"Unexpected server response\"\r\n    };\r\n    var unloading;\r\n    ready((function() {\r\n        var window = getWindow();\r\n        domAdapter.listen(window, \"beforeunload\", (function() {\r\n            unloading = true\r\n        }))\r\n    }));\r\n    return function(xhr, textStatus) {\r\n        if (unloading) {\r\n            return XHR_ERROR_UNLOAD\r\n        }\r\n        if (xhr.status < 400) {\r\n            return function(textStatus) {\r\n                var result = textStatusMessages[textStatus];\r\n                if (!result) {\r\n                    return textStatus\r\n                }\r\n                return result\r\n            }(textStatus)\r\n        }\r\n        return xhr.statusText\r\n    }\r\n}();\r\nexport var aggregators = {\r\n    count: {\r\n        seed: 0,\r\n        step: function(count) {\r\n            return 1 + count\r\n        }\r\n    },\r\n    sum: {\r\n        seed: 0,\r\n        step: function(sum, item) {\r\n            return sum + item\r\n        }\r\n    },\r\n    min: {\r\n        step: function(min, item) {\r\n            return item < min ? item : min\r\n        }\r\n    },\r\n    max: {\r\n        step: function(max, item) {\r\n            return item > max ? item : max\r\n        }\r\n    },\r\n    avg: {\r\n        seed: [0, 0],\r\n        step: function(pair, value) {\r\n            return [pair[0] + value, pair[1] + 1]\r\n        },\r\n        finalize: function(pair) {\r\n            return pair[1] ? pair[0] / pair[1] : NaN\r\n        }\r\n    }\r\n};\r\nexport var processRequestResultLock = function() {\r\n    var lockCount = 0;\r\n    var lockDeferred;\r\n    return {\r\n        obtain: function() {\r\n            if (0 === lockCount) {\r\n                lockDeferred = new Deferred\r\n            }\r\n            lockCount++\r\n        },\r\n        release: function() {\r\n            lockCount--;\r\n            if (lockCount < 1) {\r\n                lockDeferred.resolve()\r\n            }\r\n        },\r\n        promise: function() {\r\n            var deferred = 0 === lockCount ? (new Deferred).resolve() : lockDeferred;\r\n            return deferred.promise()\r\n        },\r\n        reset: function() {\r\n            lockCount = 0;\r\n            if (lockDeferred) {\r\n                lockDeferred.resolve()\r\n            }\r\n        }\r\n    }\r\n}();\r\nexport function isDisjunctiveOperator(condition) {\r\n    return /^(or|\\|\\||\\|)$/i.test(condition)\r\n}\r\nexport function isConjunctiveOperator(condition) {\r\n    return /^(and|&&|&)$/i.test(condition)\r\n}\r\nexport var keysEqual = function(keyExpr, key1, key2) {\r\n    if (Array.isArray(keyExpr)) {\r\n        var names = map(key1, (function(v, k) {\r\n            return k\r\n        }));\r\n        var name;\r\n        for (var i = 0; i < names.length; i++) {\r\n            name = names[i];\r\n            if (!equalByValue(key1[name], key2[name], 0, false)) {\r\n                return false\r\n            }\r\n        }\r\n        return true\r\n    }\r\n    return equalByValue(key1, key2, 0, false)\r\n};\r\nvar BASE64_CHARS = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\nexport var base64_encode = function(input) {\r\n    if (!Array.isArray(input)) {\r\n        input = stringToByteArray(String(input))\r\n    }\r\n    var result = \"\";\r\n\r\n    function getBase64Char(index) {\r\n        return BASE64_CHARS.charAt(index)\r\n    }\r\n    for (var i = 0; i < input.length; i += 3) {\r\n        var octet1 = input[i];\r\n        var octet2 = input[i + 1];\r\n        var octet3 = input[i + 2];\r\n        result += map([octet1 >> 2, (3 & octet1) << 4 | octet2 >> 4, isNaN(octet2) ? 64 : (15 & octet2) << 2 | octet3 >> 6, isNaN(octet3) ? 64 : 63 & octet3], getBase64Char).join(\"\")\r\n    }\r\n    return result\r\n};\r\n\r\nfunction stringToByteArray(str) {\r\n    var bytes = [];\r\n    var code;\r\n    var i;\r\n    for (i = 0; i < str.length; i++) {\r\n        code = str.charCodeAt(i);\r\n        if (code < 128) {\r\n            bytes.push(code)\r\n        } else if (code < 2048) {\r\n            bytes.push(192 + (code >> 6), 128 + (63 & code))\r\n        } else if (code < 65536) {\r\n            bytes.push(224 + (code >> 12), 128 + (code >> 6 & 63), 128 + (63 & code))\r\n        } else if (code < 2097152) {\r\n            bytes.push(240 + (code >> 18), 128 + (code >> 12 & 63), 128 + (code >> 6 & 63), 128 + (63 & code))\r\n        }\r\n    }\r\n    return bytes\r\n}\r\nexport var isUnaryOperation = function(crit) {\r\n    return \"!\" === crit[0] && Array.isArray(crit[1])\r\n};\r\nvar isGroupOperator = function(value) {\r\n    return \"and\" === value || \"or\" === value\r\n};\r\nexport var isGroupCriterion = function(crit) {\r\n    var first = crit[0];\r\n    var second = crit[1];\r\n    if (Array.isArray(first)) {\r\n        return true\r\n    }\r\n    if (isFunction(first)) {\r\n        if (Array.isArray(second) || isFunction(second) || isGroupOperator(second)) {\r\n            return true\r\n        }\r\n    }\r\n    return false\r\n};\r\nexport var trivialPromise = function() {\r\n    var d = new Deferred;\r\n    return d.resolve.apply(d, arguments).promise()\r\n};\r\nexport var rejectedPromise = function() {\r\n    var d = new Deferred;\r\n    return d.reject.apply(d, arguments).promise()\r\n};\r\n\r\nfunction throttle(func, timeout) {\r\n    var timeoutId;\r\n    var lastArgs;\r\n    return function() {\r\n        lastArgs = arguments;\r\n        if (!timeoutId) {\r\n            timeoutId = setTimeout(() => {\r\n                timeoutId = void 0;\r\n                if (lastArgs) {\r\n                    func.call(this, lastArgs)\r\n                }\r\n            }, isFunction(timeout) ? timeout() : timeout)\r\n        }\r\n        return timeoutId\r\n    }\r\n}\r\nexport function throttleChanges(func, timeout) {\r\n    var cache = [];\r\n    var throttled = throttle((function() {\r\n        func.call(this, cache);\r\n        cache = []\r\n    }), timeout);\r\n    return function(changes) {\r\n        if (Array.isArray(changes)) {\r\n            cache.push(...changes)\r\n        }\r\n        return throttled.call(this, cache)\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}