{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/scroll_view/ui.scroll_view.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport devices from \"../../core/devices\";\nimport { hasWindow } from \"../../core/utils/window\";\nimport messageLocalization from \"../../localization/message\";\nimport registerComponent from \"../../core/component_registrator\";\nimport { getPublicElement } from \"../../core/element\";\nimport { extend } from \"../../core/utils/extend\";\nimport { noop } from \"../../core/utils/common\";\nimport PullDownStrategy from \"./ui.scroll_view.native.pull_down\";\nimport SwipeDownStrategy from \"./ui.scroll_view.native.swipe_down\";\nimport SimulatedStrategy from \"./ui.scroll_view.simulated\";\nimport Scrollable from \"./ui.scrollable\";\nimport LoadIndicator from \"../load_indicator\";\nimport { isMaterial } from \"./../themes\";\nimport LoadPanel from \"../load_panel\";\nvar SCROLLVIEW_CLASS = \"dx-scrollview\";\nvar SCROLLVIEW_CONTENT_CLASS = SCROLLVIEW_CLASS + \"-content\";\nvar SCROLLVIEW_TOP_POCKET_CLASS = SCROLLVIEW_CLASS + \"-top-pocket\";\nvar SCROLLVIEW_BOTTOM_POCKET_CLASS = SCROLLVIEW_CLASS + \"-bottom-pocket\";\nvar SCROLLVIEW_PULLDOWN_CLASS = SCROLLVIEW_CLASS + \"-pull-down\";\nvar SCROLLVIEW_REACHBOTTOM_CLASS = SCROLLVIEW_CLASS + \"-scrollbottom\";\nvar SCROLLVIEW_REACHBOTTOM_INDICATOR_CLASS = SCROLLVIEW_REACHBOTTOM_CLASS + \"-indicator\";\nvar SCROLLVIEW_REACHBOTTOM_TEXT_CLASS = SCROLLVIEW_REACHBOTTOM_CLASS + \"-text\";\nvar SCROLLVIEW_LOADPANEL = SCROLLVIEW_CLASS + \"-loadpanel\";\nvar refreshStrategies = {\n  pullDown: PullDownStrategy,\n  swipeDown: SwipeDownStrategy,\n  simulated: SimulatedStrategy\n};\nvar isServerSide = !hasWindow();\nvar scrollViewServerConfig = {\n  finishLoading: noop,\n  release: noop,\n  refresh: noop,\n  _optionChanged: function (args) {\n    if (\"onUpdated\" !== args.name) {\n      return this.callBase.apply(this, arguments);\n    }\n  }\n};\nvar ScrollView = Scrollable.inherit(isServerSide ? scrollViewServerConfig : {\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      pullingDownText: messageLocalization.format(\"dxScrollView-pullingDownText\"),\n      pulledDownText: messageLocalization.format(\"dxScrollView-pulledDownText\"),\n      refreshingText: messageLocalization.format(\"dxScrollView-refreshingText\"),\n      reachBottomText: messageLocalization.format(\"dxScrollView-reachBottomText\"),\n      onPullDown: null,\n      onReachBottom: null,\n      refreshStrategy: \"pullDown\"\n    });\n  },\n  _defaultOptionsRules: function () {\n    return this.callBase().concat([{\n      device: function () {\n        var realDevice = devices.real();\n        return \"android\" === realDevice.platform;\n      },\n      options: {\n        refreshStrategy: \"swipeDown\"\n      }\n    }, {\n      device: function () {\n        return isMaterial();\n      },\n      options: {\n        pullingDownText: \"\",\n        pulledDownText: \"\",\n        refreshingText: \"\",\n        reachBottomText: \"\"\n      }\n    }]);\n  },\n  _init: function () {\n    this.callBase();\n    this._loadingIndicatorEnabled = true;\n  },\n  _initScrollableMarkup: function () {\n    this.callBase();\n    this.$element().addClass(SCROLLVIEW_CLASS);\n\n    this._initContent();\n\n    this._initTopPocket();\n\n    this._initBottomPocket();\n\n    this._initLoadPanel();\n  },\n  _initContent: function () {\n    var $content = $(\"<div>\").addClass(SCROLLVIEW_CONTENT_CLASS);\n\n    this._$content.wrapInner($content);\n  },\n  _initTopPocket: function () {\n    var $topPocket = this._$topPocket = $(\"<div>\").addClass(SCROLLVIEW_TOP_POCKET_CLASS);\n    var $pullDown = this._$pullDown = $(\"<div>\").addClass(SCROLLVIEW_PULLDOWN_CLASS);\n    $topPocket.append($pullDown);\n\n    this._$content.prepend($topPocket);\n  },\n  _initBottomPocket: function () {\n    var $bottomPocket = this._$bottomPocket = $(\"<div>\").addClass(SCROLLVIEW_BOTTOM_POCKET_CLASS);\n    var $reachBottom = this._$reachBottom = $(\"<div>\").addClass(SCROLLVIEW_REACHBOTTOM_CLASS);\n    var $loadContainer = $(\"<div>\").addClass(SCROLLVIEW_REACHBOTTOM_INDICATOR_CLASS);\n    var $loadIndicator = new LoadIndicator($(\"<div>\")).$element();\n    var $text = this._$reachBottomText = $(\"<div>\").addClass(SCROLLVIEW_REACHBOTTOM_TEXT_CLASS);\n\n    this._updateReachBottomText();\n\n    $reachBottom.append($loadContainer.append($loadIndicator)).append($text);\n    $bottomPocket.append($reachBottom);\n\n    this._$content.append($bottomPocket);\n  },\n  _initLoadPanel: function () {\n    var $loadPanelElement = $(\"<div>\").addClass(SCROLLVIEW_LOADPANEL).appendTo(this.$element());\n    var loadPanelOptions = {\n      shading: false,\n      delay: 400,\n      message: this.option(\"refreshingText\"),\n      position: {\n        of: this.$element()\n      }\n    };\n    this._loadPanel = this._createComponent($loadPanelElement, LoadPanel, loadPanelOptions);\n  },\n  _updateReachBottomText: function () {\n    this._$reachBottomText.text(this.option(\"reachBottomText\"));\n  },\n  _createStrategy: function () {\n    var strategyName = this.option(\"useNative\") ? this.option(\"refreshStrategy\") : \"simulated\";\n    var strategyClass = refreshStrategies[strategyName];\n    this._strategy = new strategyClass(this);\n\n    this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this));\n\n    this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this));\n\n    this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this));\n  },\n  _createActions: function () {\n    this.callBase();\n    this._pullDownAction = this._createActionByOption(\"onPullDown\");\n    this._reachBottomAction = this._createActionByOption(\"onReachBottom\");\n\n    this._tryRefreshPocketState();\n  },\n  _tryRefreshPocketState: function () {\n    this._pullDownEnable(this.hasActionSubscription(\"onPullDown\"));\n\n    this._reachBottomEnable(this.hasActionSubscription(\"onReachBottom\"));\n  },\n  on: function (eventName) {\n    var result = this.callBase.apply(this, arguments);\n\n    if (\"pullDown\" === eventName || \"reachBottom\" === eventName) {\n      this._tryRefreshPocketState();\n    }\n\n    return result;\n  },\n  _pullDownEnable: function (enabled) {\n    if (0 === arguments.length) {\n      return this._pullDownEnabled;\n    }\n\n    if (this._$pullDown && this._strategy) {\n      this._$pullDown.toggle(enabled);\n\n      this._strategy.pullDownEnable(enabled);\n\n      this._pullDownEnabled = enabled;\n    }\n  },\n  _reachBottomEnable: function (enabled) {\n    if (0 === arguments.length) {\n      return this._reachBottomEnabled;\n    }\n\n    if (this._$reachBottom && this._strategy) {\n      this._$reachBottom.toggle(enabled);\n\n      this._strategy.reachBottomEnable(enabled);\n\n      this._reachBottomEnabled = enabled;\n    }\n  },\n  _pullDownHandler: function () {\n    this._loadingIndicator(false);\n\n    this._pullDownLoading();\n  },\n  _loadingIndicator: function (value) {\n    if (arguments.length < 1) {\n      return this._loadingIndicatorEnabled;\n    }\n\n    this._loadingIndicatorEnabled = value;\n  },\n  _pullDownLoading: function () {\n    this.startLoading();\n\n    this._pullDownAction();\n  },\n  _reachBottomHandler: function () {\n    this._loadingIndicator(false);\n\n    this._reachBottomLoading();\n  },\n  _reachBottomLoading: function () {\n    this.startLoading();\n\n    this._reachBottomAction();\n  },\n  _releaseHandler: function () {\n    this.finishLoading();\n\n    this._loadingIndicator(true);\n  },\n  _optionChanged: function (args) {\n    switch (args.name) {\n      case \"onPullDown\":\n      case \"onReachBottom\":\n        this._createActions();\n\n        break;\n\n      case \"pullingDownText\":\n      case \"pulledDownText\":\n      case \"refreshingText\":\n      case \"refreshStrategy\":\n        this._invalidate();\n\n        break;\n\n      case \"reachBottomText\":\n        this._updateReachBottomText();\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  content: function () {\n    return getPublicElement(this._$content.children().eq(1));\n  },\n  release: function (preventReachBottom) {\n    if (void 0 !== preventReachBottom) {\n      this.toggleLoading(!preventReachBottom);\n    }\n\n    return this._strategy.release();\n  },\n  toggleLoading: function (showOrHide) {\n    this._reachBottomEnable(showOrHide);\n  },\n  refresh: function () {\n    if (!this.hasActionSubscription(\"onPullDown\")) {\n      return;\n    }\n\n    this._strategy.pendingRelease();\n\n    this._pullDownLoading();\n  },\n  startLoading: function () {\n    if (this._loadingIndicator() && this.$element().is(\":visible\")) {\n      this._loadPanel.show();\n    }\n\n    this._lock();\n  },\n  finishLoading: function () {\n    this._loadPanel.hide();\n\n    this._unlock();\n  },\n  _dispose: function () {\n    this._strategy.dispose();\n\n    this.callBase();\n\n    if (this._loadPanel) {\n      this._loadPanel.$element().remove();\n    }\n  }\n});\nregisterComponent(\"dxScrollView\", ScrollView);\nexport default ScrollView;","map":{"version":3,"sources":["/home/narminali/Desktop/vabiss/narmin-oms-front/node_modules/devextreme/esm/ui/scroll_view/ui.scroll_view.js"],"names":["$","devices","hasWindow","messageLocalization","registerComponent","getPublicElement","extend","noop","PullDownStrategy","SwipeDownStrategy","SimulatedStrategy","Scrollable","LoadIndicator","isMaterial","LoadPanel","SCROLLVIEW_CLASS","SCROLLVIEW_CONTENT_CLASS","SCROLLVIEW_TOP_POCKET_CLASS","SCROLLVIEW_BOTTOM_POCKET_CLASS","SCROLLVIEW_PULLDOWN_CLASS","SCROLLVIEW_REACHBOTTOM_CLASS","SCROLLVIEW_REACHBOTTOM_INDICATOR_CLASS","SCROLLVIEW_REACHBOTTOM_TEXT_CLASS","SCROLLVIEW_LOADPANEL","refreshStrategies","pullDown","swipeDown","simulated","isServerSide","scrollViewServerConfig","finishLoading","release","refresh","_optionChanged","args","name","callBase","apply","arguments","ScrollView","inherit","_getDefaultOptions","pullingDownText","format","pulledDownText","refreshingText","reachBottomText","onPullDown","onReachBottom","refreshStrategy","_defaultOptionsRules","concat","device","realDevice","real","platform","options","_init","_loadingIndicatorEnabled","_initScrollableMarkup","$element","addClass","_initContent","_initTopPocket","_initBottomPocket","_initLoadPanel","$content","_$content","wrapInner","$topPocket","_$topPocket","$pullDown","_$pullDown","append","prepend","$bottomPocket","_$bottomPocket","$reachBottom","_$reachBottom","$loadContainer","$loadIndicator","$text","_$reachBottomText","_updateReachBottomText","$loadPanelElement","appendTo","loadPanelOptions","shading","delay","message","option","position","of","_loadPanel","_createComponent","text","_createStrategy","strategyName","strategyClass","_strategy","pullDownCallbacks","add","_pullDownHandler","bind","releaseCallbacks","_releaseHandler","reachBottomCallbacks","_reachBottomHandler","_createActions","_pullDownAction","_createActionByOption","_reachBottomAction","_tryRefreshPocketState","_pullDownEnable","hasActionSubscription","_reachBottomEnable","on","eventName","result","enabled","length","_pullDownEnabled","toggle","pullDownEnable","_reachBottomEnabled","reachBottomEnable","_loadingIndicator","_pullDownLoading","value","startLoading","_reachBottomLoading","_invalidate","content","children","eq","preventReachBottom","toggleLoading","showOrHide","pendingRelease","is","show","_lock","hide","_unlock","_dispose","dispose","remove"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/scroll_view/ui.scroll_view.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport devices from \"../../core/devices\";\r\nimport {\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport PullDownStrategy from \"./ui.scroll_view.native.pull_down\";\r\nimport SwipeDownStrategy from \"./ui.scroll_view.native.swipe_down\";\r\nimport SimulatedStrategy from \"./ui.scroll_view.simulated\";\r\nimport Scrollable from \"./ui.scrollable\";\r\nimport LoadIndicator from \"../load_indicator\";\r\nimport {\r\n    isMaterial\r\n} from \"./../themes\";\r\nimport LoadPanel from \"../load_panel\";\r\nvar SCROLLVIEW_CLASS = \"dx-scrollview\";\r\nvar SCROLLVIEW_CONTENT_CLASS = SCROLLVIEW_CLASS + \"-content\";\r\nvar SCROLLVIEW_TOP_POCKET_CLASS = SCROLLVIEW_CLASS + \"-top-pocket\";\r\nvar SCROLLVIEW_BOTTOM_POCKET_CLASS = SCROLLVIEW_CLASS + \"-bottom-pocket\";\r\nvar SCROLLVIEW_PULLDOWN_CLASS = SCROLLVIEW_CLASS + \"-pull-down\";\r\nvar SCROLLVIEW_REACHBOTTOM_CLASS = SCROLLVIEW_CLASS + \"-scrollbottom\";\r\nvar SCROLLVIEW_REACHBOTTOM_INDICATOR_CLASS = SCROLLVIEW_REACHBOTTOM_CLASS + \"-indicator\";\r\nvar SCROLLVIEW_REACHBOTTOM_TEXT_CLASS = SCROLLVIEW_REACHBOTTOM_CLASS + \"-text\";\r\nvar SCROLLVIEW_LOADPANEL = SCROLLVIEW_CLASS + \"-loadpanel\";\r\nvar refreshStrategies = {\r\n    pullDown: PullDownStrategy,\r\n    swipeDown: SwipeDownStrategy,\r\n    simulated: SimulatedStrategy\r\n};\r\nvar isServerSide = !hasWindow();\r\nvar scrollViewServerConfig = {\r\n    finishLoading: noop,\r\n    release: noop,\r\n    refresh: noop,\r\n    _optionChanged: function(args) {\r\n        if (\"onUpdated\" !== args.name) {\r\n            return this.callBase.apply(this, arguments)\r\n        }\r\n    }\r\n};\r\nvar ScrollView = Scrollable.inherit(isServerSide ? scrollViewServerConfig : {\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            pullingDownText: messageLocalization.format(\"dxScrollView-pullingDownText\"),\r\n            pulledDownText: messageLocalization.format(\"dxScrollView-pulledDownText\"),\r\n            refreshingText: messageLocalization.format(\"dxScrollView-refreshingText\"),\r\n            reachBottomText: messageLocalization.format(\"dxScrollView-reachBottomText\"),\r\n            onPullDown: null,\r\n            onReachBottom: null,\r\n            refreshStrategy: \"pullDown\"\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                var realDevice = devices.real();\r\n                return \"android\" === realDevice.platform\r\n            },\r\n            options: {\r\n                refreshStrategy: \"swipeDown\"\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return isMaterial()\r\n            },\r\n            options: {\r\n                pullingDownText: \"\",\r\n                pulledDownText: \"\",\r\n                refreshingText: \"\",\r\n                reachBottomText: \"\"\r\n            }\r\n        }])\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._loadingIndicatorEnabled = true\r\n    },\r\n    _initScrollableMarkup: function() {\r\n        this.callBase();\r\n        this.$element().addClass(SCROLLVIEW_CLASS);\r\n        this._initContent();\r\n        this._initTopPocket();\r\n        this._initBottomPocket();\r\n        this._initLoadPanel()\r\n    },\r\n    _initContent: function() {\r\n        var $content = $(\"<div>\").addClass(SCROLLVIEW_CONTENT_CLASS);\r\n        this._$content.wrapInner($content)\r\n    },\r\n    _initTopPocket: function() {\r\n        var $topPocket = this._$topPocket = $(\"<div>\").addClass(SCROLLVIEW_TOP_POCKET_CLASS);\r\n        var $pullDown = this._$pullDown = $(\"<div>\").addClass(SCROLLVIEW_PULLDOWN_CLASS);\r\n        $topPocket.append($pullDown);\r\n        this._$content.prepend($topPocket)\r\n    },\r\n    _initBottomPocket: function() {\r\n        var $bottomPocket = this._$bottomPocket = $(\"<div>\").addClass(SCROLLVIEW_BOTTOM_POCKET_CLASS);\r\n        var $reachBottom = this._$reachBottom = $(\"<div>\").addClass(SCROLLVIEW_REACHBOTTOM_CLASS);\r\n        var $loadContainer = $(\"<div>\").addClass(SCROLLVIEW_REACHBOTTOM_INDICATOR_CLASS);\r\n        var $loadIndicator = new LoadIndicator($(\"<div>\")).$element();\r\n        var $text = this._$reachBottomText = $(\"<div>\").addClass(SCROLLVIEW_REACHBOTTOM_TEXT_CLASS);\r\n        this._updateReachBottomText();\r\n        $reachBottom.append($loadContainer.append($loadIndicator)).append($text);\r\n        $bottomPocket.append($reachBottom);\r\n        this._$content.append($bottomPocket)\r\n    },\r\n    _initLoadPanel: function() {\r\n        var $loadPanelElement = $(\"<div>\").addClass(SCROLLVIEW_LOADPANEL).appendTo(this.$element());\r\n        var loadPanelOptions = {\r\n            shading: false,\r\n            delay: 400,\r\n            message: this.option(\"refreshingText\"),\r\n            position: {\r\n                of: this.$element()\r\n            }\r\n        };\r\n        this._loadPanel = this._createComponent($loadPanelElement, LoadPanel, loadPanelOptions)\r\n    },\r\n    _updateReachBottomText: function() {\r\n        this._$reachBottomText.text(this.option(\"reachBottomText\"))\r\n    },\r\n    _createStrategy: function() {\r\n        var strategyName = this.option(\"useNative\") ? this.option(\"refreshStrategy\") : \"simulated\";\r\n        var strategyClass = refreshStrategies[strategyName];\r\n        this._strategy = new strategyClass(this);\r\n        this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this));\r\n        this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this));\r\n        this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this))\r\n    },\r\n    _createActions: function() {\r\n        this.callBase();\r\n        this._pullDownAction = this._createActionByOption(\"onPullDown\");\r\n        this._reachBottomAction = this._createActionByOption(\"onReachBottom\");\r\n        this._tryRefreshPocketState()\r\n    },\r\n    _tryRefreshPocketState: function() {\r\n        this._pullDownEnable(this.hasActionSubscription(\"onPullDown\"));\r\n        this._reachBottomEnable(this.hasActionSubscription(\"onReachBottom\"))\r\n    },\r\n    on: function(eventName) {\r\n        var result = this.callBase.apply(this, arguments);\r\n        if (\"pullDown\" === eventName || \"reachBottom\" === eventName) {\r\n            this._tryRefreshPocketState()\r\n        }\r\n        return result\r\n    },\r\n    _pullDownEnable: function(enabled) {\r\n        if (0 === arguments.length) {\r\n            return this._pullDownEnabled\r\n        }\r\n        if (this._$pullDown && this._strategy) {\r\n            this._$pullDown.toggle(enabled);\r\n            this._strategy.pullDownEnable(enabled);\r\n            this._pullDownEnabled = enabled\r\n        }\r\n    },\r\n    _reachBottomEnable: function(enabled) {\r\n        if (0 === arguments.length) {\r\n            return this._reachBottomEnabled\r\n        }\r\n        if (this._$reachBottom && this._strategy) {\r\n            this._$reachBottom.toggle(enabled);\r\n            this._strategy.reachBottomEnable(enabled);\r\n            this._reachBottomEnabled = enabled\r\n        }\r\n    },\r\n    _pullDownHandler: function() {\r\n        this._loadingIndicator(false);\r\n        this._pullDownLoading()\r\n    },\r\n    _loadingIndicator: function(value) {\r\n        if (arguments.length < 1) {\r\n            return this._loadingIndicatorEnabled\r\n        }\r\n        this._loadingIndicatorEnabled = value\r\n    },\r\n    _pullDownLoading: function() {\r\n        this.startLoading();\r\n        this._pullDownAction()\r\n    },\r\n    _reachBottomHandler: function() {\r\n        this._loadingIndicator(false);\r\n        this._reachBottomLoading()\r\n    },\r\n    _reachBottomLoading: function() {\r\n        this.startLoading();\r\n        this._reachBottomAction()\r\n    },\r\n    _releaseHandler: function() {\r\n        this.finishLoading();\r\n        this._loadingIndicator(true)\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"onPullDown\":\r\n            case \"onReachBottom\":\r\n                this._createActions();\r\n                break;\r\n            case \"pullingDownText\":\r\n            case \"pulledDownText\":\r\n            case \"refreshingText\":\r\n            case \"refreshStrategy\":\r\n                this._invalidate();\r\n                break;\r\n            case \"reachBottomText\":\r\n                this._updateReachBottomText();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    content: function() {\r\n        return getPublicElement(this._$content.children().eq(1))\r\n    },\r\n    release: function(preventReachBottom) {\r\n        if (void 0 !== preventReachBottom) {\r\n            this.toggleLoading(!preventReachBottom)\r\n        }\r\n        return this._strategy.release()\r\n    },\r\n    toggleLoading: function(showOrHide) {\r\n        this._reachBottomEnable(showOrHide)\r\n    },\r\n    refresh: function() {\r\n        if (!this.hasActionSubscription(\"onPullDown\")) {\r\n            return\r\n        }\r\n        this._strategy.pendingRelease();\r\n        this._pullDownLoading()\r\n    },\r\n    startLoading: function() {\r\n        if (this._loadingIndicator() && this.$element().is(\":visible\")) {\r\n            this._loadPanel.show()\r\n        }\r\n        this._lock()\r\n    },\r\n    finishLoading: function() {\r\n        this._loadPanel.hide();\r\n        this._unlock()\r\n    },\r\n    _dispose: function() {\r\n        this._strategy.dispose();\r\n        this.callBase();\r\n        if (this._loadPanel) {\r\n            this._loadPanel.$element().remove()\r\n        }\r\n    }\r\n});\r\nregisterComponent(\"dxScrollView\", ScrollView);\r\nexport default ScrollView;\r\n"]},"metadata":{},"sourceType":"module"}