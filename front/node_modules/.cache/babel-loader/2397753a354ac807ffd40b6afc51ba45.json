{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/multi_view.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getWidth } from \"../core/utils/size\";\nimport $ from \"../core/renderer\";\nimport { locate } from \"../animation/translator\";\nimport { _translator, animation } from \"./multi_view/ui.multi_view.animation\";\nimport { sign } from \"../core/utils/math\";\nimport { extend } from \"../core/utils/extend\";\nimport { noop, deferRender } from \"../core/utils/common\";\nimport { triggerResizeEvent } from \"../events/visibility_change\";\nimport { getPublicElement } from \"../core/element\";\nimport { isDefined } from \"../core/utils/type\";\nimport devices from \"../core/devices\";\nimport registerComponent from \"../core/component_registrator\";\nimport CollectionWidget from \"./collection/ui.collection_widget.live_update\";\nimport Swipeable from \"../events/gesture/swipeable\";\nimport { Deferred } from \"../core/utils/deferred\";\nvar MULTIVIEW_CLASS = \"dx-multiview\";\nvar MULTIVIEW_WRAPPER_CLASS = \"dx-multiview-wrapper\";\nvar MULTIVIEW_ITEM_CONTAINER_CLASS = \"dx-multiview-item-container\";\nvar MULTIVIEW_ITEM_CLASS = \"dx-multiview-item\";\nvar MULTIVIEW_ITEM_HIDDEN_CLASS = \"dx-multiview-item-hidden\";\nvar MULTIVIEW_ITEM_DATA_KEY = \"dxMultiViewItemData\";\nvar MULTIVIEW_ANIMATION_DURATION = 200;\n\nvar toNumber = value => +value;\n\nvar position = $element => locate($element).left;\n\nvar MultiView = CollectionWidget.inherit({\n  _activeStateUnit: \".\" + MULTIVIEW_ITEM_CLASS,\n  _supportedKeys: function () {\n    return extend(this.callBase(), {\n      pageUp: noop,\n      pageDown: noop\n    });\n  },\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      selectedIndex: 0,\n      swipeEnabled: true,\n      animationEnabled: true,\n      loop: false,\n      deferRendering: true,\n      _itemAttributes: {\n        role: \"tabpanel\"\n      },\n      loopItemFocus: false,\n      selectOnFocus: true,\n      selectionMode: \"single\",\n      selectionRequired: true,\n      selectionByClick: false\n    });\n  },\n  _defaultOptionsRules: function () {\n    return this.callBase().concat([{\n      device: function () {\n        return \"desktop\" === devices.real().deviceType && !devices.isSimulator();\n      },\n      options: {\n        focusStateEnabled: true\n      }\n    }]);\n  },\n  _itemClass: function () {\n    return MULTIVIEW_ITEM_CLASS;\n  },\n  _itemDataKey: function () {\n    return MULTIVIEW_ITEM_DATA_KEY;\n  },\n  _itemContainer: function () {\n    return this._$itemContainer;\n  },\n  _itemElements: function () {\n    return this._itemContainer().children(this._itemSelector());\n  },\n  _itemWidth: function () {\n    if (!this._itemWidthValue) {\n      this._itemWidthValue = getWidth(this._$wrapper);\n    }\n\n    return this._itemWidthValue;\n  },\n  _clearItemWidthCache: function () {\n    delete this._itemWidthValue;\n  },\n  _itemsCount: function () {\n    return this.option(\"items\").length;\n  },\n  _normalizeIndex: function (index) {\n    var count = this._itemsCount();\n\n    if (index < 0) {\n      index += count;\n    }\n\n    if (index >= count) {\n      index -= count;\n    }\n\n    return index;\n  },\n  _getRTLSignCorrection: function () {\n    return this.option(\"rtlEnabled\") ? -1 : 1;\n  },\n  _init: function () {\n    this.callBase.apply(this, arguments);\n    var $element = this.$element();\n    $element.addClass(MULTIVIEW_CLASS);\n    this._$wrapper = $(\"<div>\").addClass(MULTIVIEW_WRAPPER_CLASS);\n\n    this._$wrapper.appendTo($element);\n\n    this._$itemContainer = $(\"<div>\").addClass(MULTIVIEW_ITEM_CONTAINER_CLASS);\n\n    this._$itemContainer.appendTo(this._$wrapper);\n\n    this.option(\"loopItemFocus\", this.option(\"loop\"));\n\n    this._initSwipeable();\n  },\n  _initMarkup: function () {\n    this._deferredItems = [];\n    this.callBase();\n\n    var selectedItemIndices = this._getSelectedItemIndices();\n\n    this._updateItemsVisibility(selectedItemIndices[0]);\n  },\n  _afterItemElementDeleted: function ($item, deletedActionArgs) {\n    this.callBase($item, deletedActionArgs);\n\n    if (this._deferredItems) {\n      this._deferredItems.splice(deletedActionArgs.itemIndex, 1);\n    }\n  },\n  _beforeItemElementInserted: function (change) {\n    this.callBase.apply(this, arguments);\n\n    if (this._deferredItems) {\n      this._deferredItems.splice(change.index, 0, null);\n    }\n  },\n  _executeItemRenderAction: function (index, itemData, itemElement) {\n    index = (this.option(\"items\") || []).indexOf(itemData);\n    this.callBase(index, itemData, itemElement);\n  },\n  _renderItemContent: function (args) {\n    var renderContentDeferred = new Deferred();\n    var that = this;\n    var callBase = this.callBase;\n    var deferred = new Deferred();\n    deferred.done(function () {\n      var $itemContent = callBase.call(that, args);\n      renderContentDeferred.resolve($itemContent);\n    });\n    this._deferredItems[args.index] = deferred;\n    this.option(\"deferRendering\") || deferred.resolve();\n    return renderContentDeferred.promise();\n  },\n  _render: function () {\n    this.callBase();\n    deferRender(() => {\n      var selectedItemIndices = this._getSelectedItemIndices();\n\n      this._updateItems(selectedItemIndices[0]);\n    });\n  },\n  _updateItems: function (selectedIndex, newIndex) {\n    this._updateItemsPosition(selectedIndex, newIndex);\n\n    this._updateItemsVisibility(selectedIndex, newIndex);\n  },\n  _modifyByChanges: function () {\n    this.callBase.apply(this, arguments);\n\n    var selectedItemIndices = this._getSelectedItemIndices();\n\n    this._updateItemsVisibility(selectedItemIndices[0]);\n  },\n  _updateItemsPosition: function (selectedIndex, newIndex) {\n    var $itemElements = this._itemElements();\n\n    var positionSign = isDefined(newIndex) ? -this._animationDirection(newIndex, selectedIndex) : void 0;\n    var $selectedItem = $itemElements.eq(selectedIndex);\n\n    _translator.move($selectedItem, 0);\n\n    if (isDefined(newIndex)) {\n      _translator.move($itemElements.eq(newIndex), 100 * positionSign + \"%\");\n    }\n  },\n  _updateItemsVisibility: function (selectedIndex, newIndex) {\n    var $itemElements = this._itemElements();\n\n    $itemElements.each(function (itemIndex, item) {\n      var $item = $(item);\n      var isHidden = itemIndex !== selectedIndex && itemIndex !== newIndex;\n\n      if (!isHidden) {\n        this._renderSpecificItem(itemIndex);\n      }\n\n      $item.toggleClass(MULTIVIEW_ITEM_HIDDEN_CLASS, isHidden);\n      this.setAria(\"hidden\", isHidden || void 0, $item);\n    }.bind(this));\n  },\n  _renderSpecificItem: function (index) {\n    var $item = this._itemElements().eq(index);\n\n    var hasItemContent = $item.find(this._itemContentClass()).length > 0;\n\n    if (isDefined(index) && !hasItemContent) {\n      this._deferredItems[index].resolve();\n\n      triggerResizeEvent($item);\n    }\n  },\n  _refreshItem: function ($item, item) {\n    this.callBase($item, item);\n\n    this._updateItemsVisibility(this.option(\"selectedIndex\"));\n  },\n  _setAriaSelected: noop,\n  _updateSelection: function (addedSelection, removedSelection) {\n    var newIndex = addedSelection[0];\n    var prevIndex = removedSelection[0];\n    animation.complete(this._$itemContainer);\n\n    this._updateItems(prevIndex, newIndex);\n\n    var animationDirection = this._animationDirection(newIndex, prevIndex);\n\n    this._animateItemContainer(animationDirection * this._itemWidth(), function () {\n      _translator.move(this._$itemContainer, 0);\n\n      this._updateItems(newIndex);\n\n      getWidth(this._$itemContainer);\n    }.bind(this));\n  },\n  _animateItemContainer: function (position, completeCallback) {\n    var duration = this.option(\"animationEnabled\") ? MULTIVIEW_ANIMATION_DURATION : 0;\n    animation.moveTo(this._$itemContainer, position, duration, completeCallback);\n  },\n  _animationDirection: function (newIndex, prevIndex) {\n    var containerPosition = position(this._$itemContainer);\n\n    var indexDifference = (prevIndex - newIndex) * this._getRTLSignCorrection() * this._getItemFocusLoopSignCorrection();\n\n    var isSwipePresent = 0 !== containerPosition;\n    var directionSignVariable = isSwipePresent ? containerPosition : indexDifference;\n    return sign(directionSignVariable);\n  },\n\n  _getSwipeDisabledState() {\n    return !this.option(\"swipeEnabled\") || this._itemsCount() <= 1;\n  },\n\n  _initSwipeable() {\n    this._createComponent(this.$element(), Swipeable, {\n      disabled: this._getSwipeDisabledState(),\n      elastic: false,\n      itemSizeFunc: this._itemWidth.bind(this),\n      onStart: args => this._swipeStartHandler(args.event),\n      onUpdated: args => this._swipeUpdateHandler(args.event),\n      onEnd: args => this._swipeEndHandler(args.event)\n    });\n  },\n\n  _swipeStartHandler: function (e) {\n    animation.complete(this._$itemContainer);\n    var selectedIndex = this.option(\"selectedIndex\");\n    var loop = this.option(\"loop\");\n    var lastIndex = this._itemsCount() - 1;\n    var rtl = this.option(\"rtlEnabled\");\n    e.maxLeftOffset = toNumber(loop || (rtl ? selectedIndex > 0 : selectedIndex < lastIndex));\n    e.maxRightOffset = toNumber(loop || (rtl ? selectedIndex < lastIndex : selectedIndex > 0));\n    this._swipeDirection = null;\n  },\n  _swipeUpdateHandler: function (e) {\n    var offset = e.offset;\n\n    var swipeDirection = sign(offset) * this._getRTLSignCorrection();\n\n    _translator.move(this._$itemContainer, offset * this._itemWidth());\n\n    if (swipeDirection !== this._swipeDirection) {\n      this._swipeDirection = swipeDirection;\n      var selectedIndex = this.option(\"selectedIndex\");\n\n      var newIndex = this._normalizeIndex(selectedIndex - swipeDirection);\n\n      this._updateItems(selectedIndex, newIndex);\n    }\n  },\n  _swipeEndHandler: function (e) {\n    var targetOffset = e.targetOffset * this._getRTLSignCorrection();\n\n    if (targetOffset) {\n      this.option(\"selectedIndex\", this._normalizeIndex(this.option(\"selectedIndex\") - targetOffset));\n      var $selectedElement = this.itemElements().filter(\".dx-item-selected\");\n      this.option(\"focusStateEnabled\") && this.option(\"focusedElement\", getPublicElement($selectedElement));\n    } else {\n      this._animateItemContainer(0, noop);\n    }\n  },\n  _getItemFocusLoopSignCorrection: function () {\n    return this._itemFocusLooped ? -1 : 1;\n  },\n  _moveFocus: function () {\n    this.callBase.apply(this, arguments);\n    this._itemFocusLooped = false;\n  },\n  _prevItem: function ($items) {\n    var $result = this.callBase.apply(this, arguments);\n    this._itemFocusLooped = $result.is($items.last());\n    return $result;\n  },\n  _nextItem: function ($items) {\n    var $result = this.callBase.apply(this, arguments);\n    this._itemFocusLooped = $result.is($items.first());\n    return $result;\n  },\n  _dimensionChanged: function () {\n    this._clearItemWidthCache();\n  },\n  _visibilityChanged: function (visible) {\n    if (visible) {\n      this._dimensionChanged();\n    }\n  },\n\n  _updateSwipeDisabledState() {\n    var disabled = this._getSwipeDisabledState();\n\n    Swipeable.getInstance(this.$element()).option(\"disabled\", disabled);\n  },\n\n  _optionChanged: function (args) {\n    var value = args.value;\n\n    switch (args.name) {\n      case \"loop\":\n        this.option(\"loopItemFocus\", value);\n        break;\n\n      case \"animationEnabled\":\n        break;\n\n      case \"swipeEnabled\":\n        this._updateSwipeDisabledState();\n\n        break;\n\n      case \"deferRendering\":\n        this._invalidate();\n\n        break;\n\n      case \"items\":\n        this._updateSwipeDisabledState();\n\n        this.callBase(args);\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  }\n});\nregisterComponent(\"dxMultiView\", MultiView);\nexport default MultiView;","map":{"version":3,"sources":["/home/narminali/Desktop/vabiss/narmin-oms-front/node_modules/devextreme/esm/ui/multi_view.js"],"names":["getWidth","$","locate","_translator","animation","sign","extend","noop","deferRender","triggerResizeEvent","getPublicElement","isDefined","devices","registerComponent","CollectionWidget","Swipeable","Deferred","MULTIVIEW_CLASS","MULTIVIEW_WRAPPER_CLASS","MULTIVIEW_ITEM_CONTAINER_CLASS","MULTIVIEW_ITEM_CLASS","MULTIVIEW_ITEM_HIDDEN_CLASS","MULTIVIEW_ITEM_DATA_KEY","MULTIVIEW_ANIMATION_DURATION","toNumber","value","position","$element","left","MultiView","inherit","_activeStateUnit","_supportedKeys","callBase","pageUp","pageDown","_getDefaultOptions","selectedIndex","swipeEnabled","animationEnabled","loop","deferRendering","_itemAttributes","role","loopItemFocus","selectOnFocus","selectionMode","selectionRequired","selectionByClick","_defaultOptionsRules","concat","device","real","deviceType","isSimulator","options","focusStateEnabled","_itemClass","_itemDataKey","_itemContainer","_$itemContainer","_itemElements","children","_itemSelector","_itemWidth","_itemWidthValue","_$wrapper","_clearItemWidthCache","_itemsCount","option","length","_normalizeIndex","index","count","_getRTLSignCorrection","_init","apply","arguments","addClass","appendTo","_initSwipeable","_initMarkup","_deferredItems","selectedItemIndices","_getSelectedItemIndices","_updateItemsVisibility","_afterItemElementDeleted","$item","deletedActionArgs","splice","itemIndex","_beforeItemElementInserted","change","_executeItemRenderAction","itemData","itemElement","indexOf","_renderItemContent","args","renderContentDeferred","that","deferred","done","$itemContent","call","resolve","promise","_render","_updateItems","newIndex","_updateItemsPosition","_modifyByChanges","$itemElements","positionSign","_animationDirection","$selectedItem","eq","move","each","item","isHidden","_renderSpecificItem","toggleClass","setAria","bind","hasItemContent","find","_itemContentClass","_refreshItem","_setAriaSelected","_updateSelection","addedSelection","removedSelection","prevIndex","complete","animationDirection","_animateItemContainer","completeCallback","duration","moveTo","containerPosition","indexDifference","_getItemFocusLoopSignCorrection","isSwipePresent","directionSignVariable","_getSwipeDisabledState","_createComponent","disabled","elastic","itemSizeFunc","onStart","_swipeStartHandler","event","onUpdated","_swipeUpdateHandler","onEnd","_swipeEndHandler","e","lastIndex","rtl","maxLeftOffset","maxRightOffset","_swipeDirection","offset","swipeDirection","targetOffset","$selectedElement","itemElements","filter","_itemFocusLooped","_moveFocus","_prevItem","$items","$result","is","last","_nextItem","first","_dimensionChanged","_visibilityChanged","visible","_updateSwipeDisabledState","getInstance","_optionChanged","name","_invalidate"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/multi_view.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport {\r\n    locate\r\n} from \"../animation/translator\";\r\nimport {\r\n    _translator,\r\n    animation\r\n} from \"./multi_view/ui.multi_view.animation\";\r\nimport {\r\n    sign\r\n} from \"../core/utils/math\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    noop,\r\n    deferRender\r\n} from \"../core/utils/common\";\r\nimport {\r\n    triggerResizeEvent\r\n} from \"../events/visibility_change\";\r\nimport {\r\n    getPublicElement\r\n} from \"../core/element\";\r\nimport {\r\n    isDefined\r\n} from \"../core/utils/type\";\r\nimport devices from \"../core/devices\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport CollectionWidget from \"./collection/ui.collection_widget.live_update\";\r\nimport Swipeable from \"../events/gesture/swipeable\";\r\nimport {\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nvar MULTIVIEW_CLASS = \"dx-multiview\";\r\nvar MULTIVIEW_WRAPPER_CLASS = \"dx-multiview-wrapper\";\r\nvar MULTIVIEW_ITEM_CONTAINER_CLASS = \"dx-multiview-item-container\";\r\nvar MULTIVIEW_ITEM_CLASS = \"dx-multiview-item\";\r\nvar MULTIVIEW_ITEM_HIDDEN_CLASS = \"dx-multiview-item-hidden\";\r\nvar MULTIVIEW_ITEM_DATA_KEY = \"dxMultiViewItemData\";\r\nvar MULTIVIEW_ANIMATION_DURATION = 200;\r\nvar toNumber = value => +value;\r\nvar position = $element => locate($element).left;\r\nvar MultiView = CollectionWidget.inherit({\r\n    _activeStateUnit: \".\" + MULTIVIEW_ITEM_CLASS,\r\n    _supportedKeys: function() {\r\n        return extend(this.callBase(), {\r\n            pageUp: noop,\r\n            pageDown: noop\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            selectedIndex: 0,\r\n            swipeEnabled: true,\r\n            animationEnabled: true,\r\n            loop: false,\r\n            deferRendering: true,\r\n            _itemAttributes: {\r\n                role: \"tabpanel\"\r\n            },\r\n            loopItemFocus: false,\r\n            selectOnFocus: true,\r\n            selectionMode: \"single\",\r\n            selectionRequired: true,\r\n            selectionByClick: false\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }])\r\n    },\r\n    _itemClass: function() {\r\n        return MULTIVIEW_ITEM_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return MULTIVIEW_ITEM_DATA_KEY\r\n    },\r\n    _itemContainer: function() {\r\n        return this._$itemContainer\r\n    },\r\n    _itemElements: function() {\r\n        return this._itemContainer().children(this._itemSelector())\r\n    },\r\n    _itemWidth: function() {\r\n        if (!this._itemWidthValue) {\r\n            this._itemWidthValue = getWidth(this._$wrapper)\r\n        }\r\n        return this._itemWidthValue\r\n    },\r\n    _clearItemWidthCache: function() {\r\n        delete this._itemWidthValue\r\n    },\r\n    _itemsCount: function() {\r\n        return this.option(\"items\").length\r\n    },\r\n    _normalizeIndex: function(index) {\r\n        var count = this._itemsCount();\r\n        if (index < 0) {\r\n            index += count\r\n        }\r\n        if (index >= count) {\r\n            index -= count\r\n        }\r\n        return index\r\n    },\r\n    _getRTLSignCorrection: function() {\r\n        return this.option(\"rtlEnabled\") ? -1 : 1\r\n    },\r\n    _init: function() {\r\n        this.callBase.apply(this, arguments);\r\n        var $element = this.$element();\r\n        $element.addClass(MULTIVIEW_CLASS);\r\n        this._$wrapper = $(\"<div>\").addClass(MULTIVIEW_WRAPPER_CLASS);\r\n        this._$wrapper.appendTo($element);\r\n        this._$itemContainer = $(\"<div>\").addClass(MULTIVIEW_ITEM_CONTAINER_CLASS);\r\n        this._$itemContainer.appendTo(this._$wrapper);\r\n        this.option(\"loopItemFocus\", this.option(\"loop\"));\r\n        this._initSwipeable()\r\n    },\r\n    _initMarkup: function() {\r\n        this._deferredItems = [];\r\n        this.callBase();\r\n        var selectedItemIndices = this._getSelectedItemIndices();\r\n        this._updateItemsVisibility(selectedItemIndices[0])\r\n    },\r\n    _afterItemElementDeleted: function($item, deletedActionArgs) {\r\n        this.callBase($item, deletedActionArgs);\r\n        if (this._deferredItems) {\r\n            this._deferredItems.splice(deletedActionArgs.itemIndex, 1)\r\n        }\r\n    },\r\n    _beforeItemElementInserted: function(change) {\r\n        this.callBase.apply(this, arguments);\r\n        if (this._deferredItems) {\r\n            this._deferredItems.splice(change.index, 0, null)\r\n        }\r\n    },\r\n    _executeItemRenderAction: function(index, itemData, itemElement) {\r\n        index = (this.option(\"items\") || []).indexOf(itemData);\r\n        this.callBase(index, itemData, itemElement)\r\n    },\r\n    _renderItemContent: function(args) {\r\n        var renderContentDeferred = new Deferred;\r\n        var that = this;\r\n        var callBase = this.callBase;\r\n        var deferred = new Deferred;\r\n        deferred.done((function() {\r\n            var $itemContent = callBase.call(that, args);\r\n            renderContentDeferred.resolve($itemContent)\r\n        }));\r\n        this._deferredItems[args.index] = deferred;\r\n        this.option(\"deferRendering\") || deferred.resolve();\r\n        return renderContentDeferred.promise()\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        deferRender(() => {\r\n            var selectedItemIndices = this._getSelectedItemIndices();\r\n            this._updateItems(selectedItemIndices[0])\r\n        })\r\n    },\r\n    _updateItems: function(selectedIndex, newIndex) {\r\n        this._updateItemsPosition(selectedIndex, newIndex);\r\n        this._updateItemsVisibility(selectedIndex, newIndex)\r\n    },\r\n    _modifyByChanges: function() {\r\n        this.callBase.apply(this, arguments);\r\n        var selectedItemIndices = this._getSelectedItemIndices();\r\n        this._updateItemsVisibility(selectedItemIndices[0])\r\n    },\r\n    _updateItemsPosition: function(selectedIndex, newIndex) {\r\n        var $itemElements = this._itemElements();\r\n        var positionSign = isDefined(newIndex) ? -this._animationDirection(newIndex, selectedIndex) : void 0;\r\n        var $selectedItem = $itemElements.eq(selectedIndex);\r\n        _translator.move($selectedItem, 0);\r\n        if (isDefined(newIndex)) {\r\n            _translator.move($itemElements.eq(newIndex), 100 * positionSign + \"%\")\r\n        }\r\n    },\r\n    _updateItemsVisibility: function(selectedIndex, newIndex) {\r\n        var $itemElements = this._itemElements();\r\n        $itemElements.each(function(itemIndex, item) {\r\n            var $item = $(item);\r\n            var isHidden = itemIndex !== selectedIndex && itemIndex !== newIndex;\r\n            if (!isHidden) {\r\n                this._renderSpecificItem(itemIndex)\r\n            }\r\n            $item.toggleClass(MULTIVIEW_ITEM_HIDDEN_CLASS, isHidden);\r\n            this.setAria(\"hidden\", isHidden || void 0, $item)\r\n        }.bind(this))\r\n    },\r\n    _renderSpecificItem: function(index) {\r\n        var $item = this._itemElements().eq(index);\r\n        var hasItemContent = $item.find(this._itemContentClass()).length > 0;\r\n        if (isDefined(index) && !hasItemContent) {\r\n            this._deferredItems[index].resolve();\r\n            triggerResizeEvent($item)\r\n        }\r\n    },\r\n    _refreshItem: function($item, item) {\r\n        this.callBase($item, item);\r\n        this._updateItemsVisibility(this.option(\"selectedIndex\"))\r\n    },\r\n    _setAriaSelected: noop,\r\n    _updateSelection: function(addedSelection, removedSelection) {\r\n        var newIndex = addedSelection[0];\r\n        var prevIndex = removedSelection[0];\r\n        animation.complete(this._$itemContainer);\r\n        this._updateItems(prevIndex, newIndex);\r\n        var animationDirection = this._animationDirection(newIndex, prevIndex);\r\n        this._animateItemContainer(animationDirection * this._itemWidth(), function() {\r\n            _translator.move(this._$itemContainer, 0);\r\n            this._updateItems(newIndex);\r\n            getWidth(this._$itemContainer)\r\n        }.bind(this))\r\n    },\r\n    _animateItemContainer: function(position, completeCallback) {\r\n        var duration = this.option(\"animationEnabled\") ? MULTIVIEW_ANIMATION_DURATION : 0;\r\n        animation.moveTo(this._$itemContainer, position, duration, completeCallback)\r\n    },\r\n    _animationDirection: function(newIndex, prevIndex) {\r\n        var containerPosition = position(this._$itemContainer);\r\n        var indexDifference = (prevIndex - newIndex) * this._getRTLSignCorrection() * this._getItemFocusLoopSignCorrection();\r\n        var isSwipePresent = 0 !== containerPosition;\r\n        var directionSignVariable = isSwipePresent ? containerPosition : indexDifference;\r\n        return sign(directionSignVariable)\r\n    },\r\n    _getSwipeDisabledState() {\r\n        return !this.option(\"swipeEnabled\") || this._itemsCount() <= 1\r\n    },\r\n    _initSwipeable() {\r\n        this._createComponent(this.$element(), Swipeable, {\r\n            disabled: this._getSwipeDisabledState(),\r\n            elastic: false,\r\n            itemSizeFunc: this._itemWidth.bind(this),\r\n            onStart: args => this._swipeStartHandler(args.event),\r\n            onUpdated: args => this._swipeUpdateHandler(args.event),\r\n            onEnd: args => this._swipeEndHandler(args.event)\r\n        })\r\n    },\r\n    _swipeStartHandler: function(e) {\r\n        animation.complete(this._$itemContainer);\r\n        var selectedIndex = this.option(\"selectedIndex\");\r\n        var loop = this.option(\"loop\");\r\n        var lastIndex = this._itemsCount() - 1;\r\n        var rtl = this.option(\"rtlEnabled\");\r\n        e.maxLeftOffset = toNumber(loop || (rtl ? selectedIndex > 0 : selectedIndex < lastIndex));\r\n        e.maxRightOffset = toNumber(loop || (rtl ? selectedIndex < lastIndex : selectedIndex > 0));\r\n        this._swipeDirection = null\r\n    },\r\n    _swipeUpdateHandler: function(e) {\r\n        var offset = e.offset;\r\n        var swipeDirection = sign(offset) * this._getRTLSignCorrection();\r\n        _translator.move(this._$itemContainer, offset * this._itemWidth());\r\n        if (swipeDirection !== this._swipeDirection) {\r\n            this._swipeDirection = swipeDirection;\r\n            var selectedIndex = this.option(\"selectedIndex\");\r\n            var newIndex = this._normalizeIndex(selectedIndex - swipeDirection);\r\n            this._updateItems(selectedIndex, newIndex)\r\n        }\r\n    },\r\n    _swipeEndHandler: function(e) {\r\n        var targetOffset = e.targetOffset * this._getRTLSignCorrection();\r\n        if (targetOffset) {\r\n            this.option(\"selectedIndex\", this._normalizeIndex(this.option(\"selectedIndex\") - targetOffset));\r\n            var $selectedElement = this.itemElements().filter(\".dx-item-selected\");\r\n            this.option(\"focusStateEnabled\") && this.option(\"focusedElement\", getPublicElement($selectedElement))\r\n        } else {\r\n            this._animateItemContainer(0, noop)\r\n        }\r\n    },\r\n    _getItemFocusLoopSignCorrection: function() {\r\n        return this._itemFocusLooped ? -1 : 1\r\n    },\r\n    _moveFocus: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._itemFocusLooped = false\r\n    },\r\n    _prevItem: function($items) {\r\n        var $result = this.callBase.apply(this, arguments);\r\n        this._itemFocusLooped = $result.is($items.last());\r\n        return $result\r\n    },\r\n    _nextItem: function($items) {\r\n        var $result = this.callBase.apply(this, arguments);\r\n        this._itemFocusLooped = $result.is($items.first());\r\n        return $result\r\n    },\r\n    _dimensionChanged: function() {\r\n        this._clearItemWidthCache()\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._dimensionChanged()\r\n        }\r\n    },\r\n    _updateSwipeDisabledState() {\r\n        var disabled = this._getSwipeDisabledState();\r\n        Swipeable.getInstance(this.$element()).option(\"disabled\", disabled)\r\n    },\r\n    _optionChanged: function(args) {\r\n        var value = args.value;\r\n        switch (args.name) {\r\n            case \"loop\":\r\n                this.option(\"loopItemFocus\", value);\r\n                break;\r\n            case \"animationEnabled\":\r\n                break;\r\n            case \"swipeEnabled\":\r\n                this._updateSwipeDisabledState();\r\n                break;\r\n            case \"deferRendering\":\r\n                this._invalidate();\r\n                break;\r\n            case \"items\":\r\n                this._updateSwipeDisabledState();\r\n                this.callBase(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nregisterComponent(\"dxMultiView\", MultiView);\r\nexport default MultiView;\r\n"]},"metadata":{},"sourceType":"module"}